<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ØªØ³ÙƒÙŠÙ† | Ø´Ù‚Ù‚ ÙÙ†Ø¯Ù‚ÙŠØ© ÙØ§Ø®Ø±Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800;900&family=Almarai:wght@300;400;700;800&display=swap" rel="stylesheet">
<style>
:root{--gold:#D6B16B;--gold-light:#EEDDB8;--gold-dark:#A17D3E;--black:#0A0F0C;--charcoal:#152118;--dark-gray:#2B3E31;--mid-gray:#5E6F63;--light-gray:#A6B4A9;--off-white:#F8F7F2;--green:#2D6A4F;--red:#9B2226;--bg:#0D1712;--card:#152118;--surface:#1E2C23}
*{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{font-family:'Tajawal',sans-serif;background:var(--bg);color:var(--off-white);overflow-x:hidden;line-height:1.7;-webkit-font-smoothing:antialiased}
::-webkit-scrollbar{width:4px}
::-webkit-scrollbar-thumb{background:var(--gold);border-radius:4px}
@keyframes fadeUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
@keyframes spin{to{transform:rotate(360deg)}}
.anim{animation:fadeUp .7s ease both}
.d1{animation-delay:.1s}.d2{animation-delay:.2s}.d3{animation-delay:.3s}.d4{animation-delay:.4s}

.nav{position:fixed;top:0;right:0;left:0;z-index:100;height:70px;padding:0 12px;display:flex;align-items:center;justify-content:space-between;transition:all .3s;background:rgba(19,30,22,.96);backdrop-filter:blur(14px);border-bottom:1px solid rgba(214,177,107,.22)}
.nav.scrolled{background:rgba(19,30,22,.99);height:70px;padding:0 12px}
@media (min-width:640px){.nav,.nav.scrolled{height:80px;padding:0 14px}}
.nav-left{display:flex;align-items:center;gap:10px}
.nav-center{position:absolute;left:50%;transform:translateX(-50%);top:50%;margin-top:-16px}
.nav-account{display:inline-flex;align-items:center;gap:6px;color:var(--off-white);text-decoration:none;font-size:12px;font-weight:600;background:rgba(255,255,255,.06);padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.1)}
.nav-account:hover{border-color:rgba(201,169,110,.35);color:var(--gold)}
@media (min-width:640px){.nav-account{gap:8px;font-size:13px;padding:7px 11px}}
.nav-logo{text-decoration:none;display:inline-flex;align-items:center;justify-content:flex-end;width:100%;margin-top:0;transform:translateY(22px)}
.logo-mark{width:100%;max-width:200px;height:auto;border:none;border-radius:0;display:block;object-fit:contain;object-position:right center}
.nav-right{display:flex;flex-direction:column;align-items:flex-end;justify-content:center;gap:4px;position:relative;min-width:120px;height:100%}
@media (min-width:640px){.logo-mark{max-width:286px}.nav-right{min-width:300px}}
.menu-toggle{display:inline-flex;align-items:center;justify-content:center;width:38px;height:34px;border-radius:10px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.06);color:var(--off-white);font-size:20px;cursor:pointer}
.menu-toggle:hover{border-color:rgba(201,169,110,.4);color:var(--gold)}
.menu-inline{position:relative;display:inline-flex;align-items:center}
.apart-menu{position:absolute;top:40px;right:0;min-width:210px;background:rgba(25,40,31,.97);border:1px solid rgba(214,177,107,.28);border-radius:14px;padding:8px;display:none;box-shadow:0 10px 30px rgba(0,0,0,.35);z-index:140}
.apart-menu.on{display:block}
.apart-menu a{display:block;text-decoration:none;color:var(--off-white);font-size:14px;padding:9px 10px;border-radius:10px}
.apart-menu a:hover{background:rgba(201,169,110,.1);color:var(--gold)}
.nav-links{display:flex;gap:10px;align-items:center;justify-content:center}
.nav-links a{color:var(--light-gray);text-decoration:none;font-size:14px;padding:7px 13px;border-radius:16px;transition:all .3s;font-weight:700;text-align:center}
.nav-links a:hover,.nav-links a.on{color:var(--gold);background:rgba(201,169,110,.1)}

.hero{min-height:54vh;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:50px 16px 12px;position:relative;overflow:hidden;background-image:url('https://images.unsplash.com/photo-1572252009286-268acec5ca0a?auto=format&fit=crop&w=2400&q=90');background-size:cover;background-position:center 42%}
@media (min-width:640px){.hero{padding:64px 24px 12px}}
.hero-bg,.hero-bg-next{position:absolute;inset:0;background-image:url('https://images.unsplash.com/photo-1572252009286-268acec5ca0a?auto=format&fit=crop&w=2400&q=90');background-size:cover;background-position:center 42%;filter:saturate(1.08) contrast(1.05);pointer-events:none;transform:scale(1.02)}
.hero-bg{transition:transform 6s ease}
.hero-bg-next{opacity:0;transform:scale(1.04);filter:saturate(1.08) contrast(1.05);transition:opacity 1.1s ease,transform 1.1s ease}
.hero-badge{display:inline-flex;align-items:center;gap:8px;background:rgba(201,169,110,.12);border:1px solid rgba(201,169,110,.24);padding:7px 16px;border-radius:50px;font-size:12px;color:var(--gold);margin-bottom:16px;position:relative;z-index:1}
.hero-badge::before{content:'âœ¦';font-size:10px}
.hero h1{font-family:'Almarai',sans-serif;font-size:clamp(27px,6.5vw,42px);font-weight:800;line-height:1.2;margin-bottom:10px;position:relative;z-index:1}
.gold{color:var(--gold)}
.hero-desc{font-size:15px;color:#c7d3ca;max-width:620px;margin-bottom:14px;font-weight:400;line-height:1.7;position:relative;z-index:1}
.hero-cta{display:flex;flex-direction:column;gap:12px;width:100%;max-width:320px;position:relative;z-index:1}
.btn-p{display:flex;align-items:center;justify-content:center;gap:10px;background:linear-gradient(135deg,var(--gold),var(--gold-dark));color:var(--black);padding:16px 32px;border-radius:14px;font-size:16px;font-weight:700;text-decoration:none;transition:all .3s;border:none;cursor:pointer;font-family:'Tajawal',sans-serif;box-shadow:0 4px 24px rgba(201,169,110,.3)}
.btn-p:hover{transform:translateY(-2px);box-shadow:0 8px 32px rgba(201,169,110,.4)}
.btn-s{display:flex;align-items:center;justify-content:center;gap:10px;background:var(--surface);color:var(--off-white);padding:14px 28px;border-radius:14px;font-size:15px;font-weight:500;text-decoration:none;transition:all .3s;border:1px solid rgba(255,255,255,.08)}
.btn-s:hover{border-color:var(--gold);color:var(--gold)}
.chips{display:flex;gap:10px;padding:0 16px;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none;margin-top:12px;position:relative;z-index:1;touch-action:pan-y}
.chips::-webkit-scrollbar{display:none}
@media (min-width:640px){.chips{padding:0 20px}}
.chip{flex-shrink:0;display:flex;align-items:center;gap:8px;background:var(--surface);border:1px solid rgba(255,255,255,.06);padding:12px 18px;border-radius:12px;font-size:13px;color:var(--off-white);white-space:nowrap}
.sec{padding:28px 16px}
@media (min-width:640px){.sec{padding:36px 20px}}
.sec-label{display:inline-block;font-size:12px;color:var(--gold);font-weight:700;letter-spacing:2px;margin-bottom:12px}
.sec-title{font-family:'Almarai',sans-serif;font-size:28px;font-weight:800;line-height:1.3;margin-bottom:32px}
.grid{display:flex;flex-direction:column;gap:20px}
.card{background:var(--card);border-radius:20px;overflow:hidden;border:1px solid rgba(255,255,255,.05);transition:all .4s;cursor:pointer}
.card:hover{border-color:rgba(201,169,110,.2);transform:translateY(-2px)}
.card-img{position:relative;aspect-ratio:16/10;overflow:hidden;background:var(--dark-gray)}
.card-img img{width:100%;height:100%;object-fit:cover;transition:transform .6s}
.card:hover .card-img img{transform:scale(1.05)}
.card-badge{position:absolute;top:14px;right:14px;background:rgba(0,0,0,.7);backdrop-filter:blur(10px);padding:6px 14px;border-radius:20px;font-size:12px;color:var(--gold);font-weight:600}
.card-rate{position:absolute;top:14px;left:14px;background:rgba(0,0,0,.7);backdrop-filter:blur(10px);padding:6px 12px;border-radius:20px;font-size:12px;color:#fff;font-weight:600;display:flex;align-items:center;gap:4px}
.card-body{padding:20px}
.card-name{font-family:'Almarai',sans-serif;font-size:19px;font-weight:700;margin-bottom:4px}
.card-sub{font-size:13px;color:var(--gold-light);margin-bottom:8px}
.card-loc{font-size:14px;color:var(--light-gray);display:flex;align-items:center;gap:6px;margin-bottom:16px}
.card-specs{display:flex;gap:14px;margin-bottom:18px;flex-wrap:wrap}
.spec{display:flex;align-items:center;gap:5px;font-size:13px;color:var(--light-gray)}
.card-foot{display:flex;justify-content:space-between;align-items:center;gap:12px;padding-top:16px;border-top:1px solid rgba(255,255,255,.06)}
.status{display:flex;align-items:center;gap:6px;font-size:13px;font-weight:600;color:var(--green)}
.status::before{content:'';width:8px;height:8px;background:var(--green);border-radius:50%;animation:pulse 2s infinite}
.card-btn{background:rgba(201,169,110,.1);color:var(--gold);border:none;padding:10px 20px;border-radius:10px;font-size:14px;font-weight:600;cursor:pointer;font-family:'Tajawal',sans-serif;transition:all .3s}
.card-actions{display:flex;gap:8px}
.card-btn.av{background:rgba(45,106,79,.15);color:#95e0bf}
.page{display:none}.page.on{display:block;animation:fadeUp .4s ease both}
.home.off{display:none}
.back{display:inline-flex;align-items:center;gap:8px;background:rgba(255,255,255,.05);border:none;color:var(--off-white);padding:10px 18px;border-radius:10px;font-size:14px;cursor:pointer;font-family:'Tajawal',sans-serif;margin:70px 16px 16px;transition:all .3s}
.back:hover{background:rgba(255,255,255,.1)}
@media (min-width:640px){.back{margin:80px 20px 20px}}
.gal-wrap{position:relative}
.gal{display:flex;gap:8px;padding:0 16px;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none;scroll-snap-type:x mandatory;margin-bottom:8px;touch-action:pan-y}
@media (min-width:640px){.gal{padding:0 20px}}
.gal::-webkit-scrollbar{display:none}
.gal-item{flex-shrink:0;width:85vw;max-width:400px;aspect-ratio:4/3;border-radius:20px;overflow:hidden;scroll-snap-align:start;background:var(--dark-gray)}
.gal-item img{width:100%;height:100%;object-fit:cover}
.gal-ctrl{position:absolute;top:50%;transform:translateY(-50%);width:38px;height:38px;border-radius:999px;border:1px solid rgba(255,255,255,.2);background:rgba(0,0,0,.35);color:#fff;display:flex;align-items:center;justify-content:center;font-size:20px;cursor:pointer;z-index:5}
.gal-ctrl.prev{right:26px}
.gal-ctrl.next{left:26px}
.dots{display:flex;gap:6px;justify-content:center;margin-bottom:24px}
.dot{width:8px;height:8px;border-radius:50%;background:var(--mid-gray);transition:all .3s;cursor:pointer}
.dot.on{background:var(--gold);width:24px;border-radius:4px}
.p-info{padding:0 16px;margin-bottom:32px}
@media (min-width:640px){.p-info{padding:0 20px}}
.p-name{font-family:'Almarai',sans-serif;font-size:24px;font-weight:800;margin-bottom:4px}
.p-sub{font-size:14px;color:var(--gold-light);margin-bottom:6px}
.p-loc{color:var(--light-gray);font-size:15px;display:flex;align-items:center;gap:6px;margin-bottom:6px}
.p-rate{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--gold);margin-bottom:24px}
.p-rate .rv{color:var(--light-gray);font-size:13px}
.p-actions{display:flex;justify-content:flex-start;margin-bottom:16px}
.prop-btn{background:rgba(45,106,79,.15);color:#95e0bf;border:1px solid rgba(149,224,191,.2);padding:10px 16px;border-radius:10px;font-size:14px;font-weight:700;cursor:pointer;font-family:'Tajawal',sans-serif}
.prop-btn:hover{background:rgba(45,106,79,.26)}
.p-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:24px}
.p-box{background:var(--surface);border:1px solid rgba(255,255,255,.05);border-radius:14px;padding:16px;text-align:center}
.p-box .ic{font-size:24px;margin-bottom:8px;display:block}
.p-box .lb{font-size:12px;color:var(--light-gray);display:block}
.p-box .vl{font-size:18px;font-weight:700;color:var(--gold);display:block;margin-top:2px}
.p-desc{padding:0 16px;margin-bottom:32px}
.p-desc h3{font-family:'Almarai',sans-serif;font-size:18px;font-weight:700;margin-bottom:12px}
.p-desc p{font-size:14px;color:var(--light-gray);line-height:1.9}
@media (min-width:640px){.p-desc{padding:0 20px}}
.p-amen{margin-bottom:32px}
.p-amen h3{font-family:'Almarai',sans-serif;font-size:18px;font-weight:700;margin-bottom:16px;padding:0 20px}
.amen-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;padding:0 20px}
.amen{display:flex;align-items:center;gap:8px;background:var(--surface);border:1px solid rgba(255,255,255,.06);padding:12px 14px;border-radius:12px;font-size:13px;color:var(--off-white)}
.airbnb-link{display:flex;align-items:center;justify-content:center;gap:8px;margin:0 20px 32px;padding:14px;border-radius:14px;background:rgba(255,56,92,.08);border:1px solid rgba(255,56,92,.2);color:#FF385C;font-size:14px;font-weight:600;text-decoration:none;transition:all .3s}
.airbnb-link:hover{background:rgba(255,56,92,.15)}

/* === CALENDAR IMPROVED === */
.cal-sec{padding:0 20px;margin-bottom:32px}
.cal-header{display:flex;align-items:center;gap:10px;margin-bottom:6px}
.cal-header h3{font-family:'Almarai',sans-serif;font-size:18px;font-weight:700}
.cal-sync{font-size:11px;color:var(--green);background:rgba(45,106,79,.1);padding:4px 10px;border-radius:20px;display:inline-flex;align-items:center;gap:4px}
.cal-sync .dot-live{width:6px;height:6px;background:var(--green);border-radius:50%;animation:pulse 2s infinite}
.cal-sec .sub{font-size:13px;color:var(--light-gray);margin-bottom:20px}
.cal-nav{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}
.cal-nav button{background:var(--surface);border:1px solid rgba(255,255,255,.06);color:var(--off-white);width:40px;height:40px;border-radius:10px;cursor:pointer;font-size:18px;transition:all .3s;display:flex;align-items:center;justify-content:center}
.cal-nav button:hover{border-color:var(--gold);color:var(--gold)}
.cal-mo{font-family:'Almarai',sans-serif;font-size:16px;font-weight:700}
.cal-grid{background:var(--surface);border-radius:16px;padding:16px;border:1px solid rgba(255,255,255,.05)}
.cal-wk{display:grid;grid-template-columns:repeat(7,1fr);text-align:center;margin-bottom:8px}
.cal-wk span{font-size:11px;color:var(--light-gray);font-weight:600;padding:8px 0}
.cal-days{display:grid;grid-template-columns:repeat(7,1fr);gap:4px}
.cd{aspect-ratio:1;display:flex;align-items:center;justify-content:center;border-radius:10px;font-size:14px;font-weight:500;cursor:default;transition:all .2s}
.cd.empty{visibility:hidden}
.cd.avail{color:var(--off-white);background:rgba(45,106,79,.15);cursor:pointer}
.cd.avail:hover{background:rgba(45,106,79,.3);transform:scale(1.05)}
.cd.booked{color:var(--light-gray);background:rgba(155,34,38,.15);text-decoration:line-through;opacity:.6}
.cd.today{border:2px solid var(--gold)}
.cd.sel{background:var(--gold)!important;color:var(--black)!important;font-weight:700;opacity:1!important;text-decoration:none!important}
.cd.range{background:rgba(201,169,110,.2)!important;color:var(--gold)!important;opacity:1!important;text-decoration:none!important}
.cal-leg{display:flex;gap:16px;justify-content:center;margin-top:16px}
.cal-leg div{display:flex;align-items:center;gap:6px;font-size:12px;color:var(--light-gray)}
.cal-leg .ld{width:10px;height:10px;border-radius:4px}

/* Date Selection Bar - Improved */
.date-bar{display:none;gap:0;margin-top:16px;background:var(--card);border-radius:16px;border:1px solid rgba(201,169,110,.2);overflow:hidden}
.date-bar.show{display:flex;flex-direction:column}
.date-bar-top{display:flex}
.date-bar-field{flex:1;padding:16px;text-align:center;cursor:pointer;transition:all .3s}
.date-bar-field.active{background:rgba(201,169,110,.08)}
.date-bar-field .lb{font-size:11px;color:var(--light-gray);margin-bottom:4px}
.date-bar-field .vl{font-size:16px;font-weight:700;color:var(--gold)}
.date-bar-field .vl.empty{color:var(--mid-gray);font-weight:400}
.date-bar-divider{width:1px;background:rgba(255,255,255,.08)}
.date-bar-nights{text-align:center;padding:8px;font-size:12px;color:var(--light-gray);border-top:1px solid rgba(255,255,255,.06)}
.date-bar-btn{display:flex;border-top:1px solid rgba(255,255,255,.06)}
.date-bar-btn a{flex:1;display:flex;align-items:center;justify-content:center;gap:8px;padding:14px;font-size:15px;font-weight:700;color:var(--black);background:linear-gradient(135deg,var(--gold),var(--gold-dark));text-decoration:none;font-family:'Tajawal',sans-serif;transition:all .3s}
.date-bar-btn a:hover{filter:brightness(1.1)}
.date-bar-btn .reset{flex:0;padding:14px 18px;background:var(--surface);color:var(--light-gray);font-size:13px;font-weight:500;cursor:pointer;border:none;font-family:'Tajawal',sans-serif}

/* Loading Spinner */
.cal-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;gap:12px}
.spinner{width:32px;height:32px;border:3px solid var(--surface);border-top-color:var(--gold);border-radius:50%;animation:spin .8s linear infinite}
.cal-loading span{font-size:13px;color:var(--light-gray)}

/* Calendar Instructions */
.cal-instruct{background:rgba(201,169,110,.05);border:1px solid rgba(201,169,110,.1);border-radius:12px;padding:14px;margin-bottom:16px;text-align:center}
.cal-instruct p{font-size:13px;color:var(--gold-light)}
.cal-instruct .step{display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;background:var(--gold);color:var(--black);border-radius:50%;font-size:11px;font-weight:700;margin-left:6px}

.sticky{position:fixed;bottom:0;right:0;left:0;padding:16px 20px;padding-bottom:calc(16px + env(safe-area-inset-bottom,0px));background:rgba(14,14,14,.95);backdrop-filter:blur(20px);border-top:1px solid rgba(201,169,110,.15);z-index:99;display:flex;gap:12px}
.sticky .btn-p{flex:1}
.sticky .bcall{width:52px;height:52px;min-width:52px;background:var(--surface);border:1px solid rgba(255,255,255,.08);border-radius:14px;display:flex;align-items:center;justify-content:center;color:var(--off-white);font-size:20px;text-decoration:none;transition:all .3s}
.fbar{display:flex;gap:10px;padding:0 20px;margin-bottom:24px;overflow-x:auto;scrollbar-width:none}
.fbar::-webkit-scrollbar{display:none}
.fbtn{flex-shrink:0;background:var(--surface);border:1px solid rgba(255,255,255,.08);color:var(--off-white);padding:10px 18px;border-radius:10px;font-size:13px;font-weight:500;cursor:pointer;font-family:'Tajawal',sans-serif;transition:all .3s;white-space:nowrap}
.fbtn.on{background:rgba(201,169,110,.15);border-color:var(--gold);color:var(--gold)}
.ccard{background:var(--card);border:1px solid rgba(255,255,255,.05);border-radius:20px;padding:32px 24px;margin:0 20px 20px;text-align:center}
.ccard .ci{width:64px;height:64px;background:rgba(201,169,110,.1);border-radius:18px;display:flex;align-items:center;justify-content:center;margin:0 auto 16px;font-size:28px}
.ccard h3{font-family:'Almarai',sans-serif;font-size:18px;font-weight:700;margin-bottom:8px}
.ccard p{font-size:14px;color:var(--light-gray);margin-bottom:20px}
.ccard .btn-p{width:100%}
.onote{margin:0 20px;padding:20px;background:rgba(201,169,110,.05);border:1px solid rgba(201,169,110,.15);border-radius:14px;text-align:center;font-size:14px;color:var(--gold-light)}
.onote strong{color:var(--gold)}
.why-item{display:flex;align-items:flex-start;gap:12px;background:var(--surface);border:1px solid rgba(255,255,255,.06);padding:18px;border-radius:14px;margin-bottom:12px}
.why-item .ic{font-size:24px;flex-shrink:0;margin-top:2px}
.why-item strong{display:block;margin-bottom:2px}
.why-item .sub{font-size:12px;color:var(--light-gray)}
.host-card{background:var(--card);border:1px solid rgba(255,255,255,.05);border-radius:20px;padding:24px;display:flex;align-items:center;gap:16px;margin:0 20px 32px}
.host-av{width:60px;height:60px;border-radius:50%;overflow:hidden;flex-shrink:0;border:2px solid var(--gold)}
.host-av img{width:100%;height:100%;object-fit:cover}
.host-info h4{font-family:'Almarai',sans-serif;font-size:16px;font-weight:700;margin-bottom:2px}
.host-info p{font-size:13px;color:var(--light-gray)}
.host-stats{display:flex;gap:12px;margin-top:6px;font-size:12px;color:var(--gold)}
.foot{padding:40px 20px;padding-bottom:calc(100px + env(safe-area-inset-bottom,0px));text-align:center;border-top:1px solid rgba(255,255,255,.04)}
.foot-logo{font-family:'Almarai',sans-serif;font-size:20px;font-weight:800;color:var(--gold);margin-bottom:8px}
.foot p{font-size:13px;color:var(--mid-gray)}
.avail-row{padding:20px;border-bottom:1px solid rgba(255,255,255,.04);cursor:pointer}
.avail-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
.avail-name{font-family:'Almarai',sans-serif;font-size:17px;font-weight:700}
.avail-sp{font-size:12px;color:var(--light-gray)}
.avail-days{display:flex;gap:6px;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none;padding-bottom:4px;touch-action:pan-y}
.avail-days::-webkit-scrollbar{display:none}
.zoomable-img{cursor:zoom-in}
.lightbox{position:fixed;inset:0;background:rgba(0,0,0,.88);display:none;align-items:center;justify-content:center;z-index:9999;padding:20px}
.lightbox.on{display:flex}
.lightbox img{max-width:min(96vw,1200px);max-height:88vh;border-radius:14px;box-shadow:0 20px 60px rgba(0,0,0,.45)}
.lightbox-close{position:absolute;top:16px;left:16px;background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.2);color:#fff;width:42px;height:42px;border-radius:999px;display:flex;align-items:center;justify-content:center;font-size:22px;cursor:pointer}
.lightbox-nav{position:absolute;top:50%;transform:translateY(-50%);background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.2);color:#fff;width:52px;height:52px;border-radius:999px;display:flex;align-items:center;justify-content:center;font-size:30px;cursor:pointer}
.lightbox-prev{left:20px}
.lightbox-next{right:20px}
@media(max-width:900px){.nav{height:80px;padding:0 10px}.nav-left{gap:6px}.nav-center{position:static;transform:none;margin-top:0;order:3;width:100%;display:flex;justify-content:center}.nav-links{gap:6px}.nav-links a{font-size:12px;padding:5px 8px}.nav-right{min-width:200px;height:100%}.nav-logo{margin-top:0;transform:translateY(16px)}.logo-mark{width:210px;height:74px}.nav-account span{display:none}.apart-menu{min-width:170px}.hero{min-height:48vh;padding-top:60px}}
@media(max-width:768px){.lightbox-nav{width:44px;height:44px;font-size:24px}}
@media(min-width:768px){.grid{display:grid;grid-template-columns:repeat(2,1fr)}.p-grid{grid-template-columns:repeat(4,1fr)}.amen-grid{grid-template-columns:repeat(3,1fr)}.gal-item{width:60vw}}
</style>
</head>
<body>

<nav class="nav" id="mainNav">
  <div class="nav-right">
    <a href="#" class="nav-logo" onclick="go('home',event)"><img class="logo-mark" src="logo-transparent.png" alt="Taskeen Logo"></a>
  </div>
  <div class="nav-center">
    <div class="nav-links">
      <span class="menu-inline">
        <button class="menu-toggle" id="aptMenuBtn" aria-label="Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø´Ù‚Ù‚">â˜°</button>
        <div class="apart-menu" id="aptMenu">
          <a href="#apartments" onclick="go('home',event);setTimeout(function(){document.getElementById('apartments').scrollIntoView({behavior:'smooth'});},120)">ÙƒÙ„ Ø§Ù„Ø´Ù‚Ù‚</a>
          <a href="#" onclick="event.preventDefault();showProp(1)">Ø´Ù‚Ø© ØªØ³ÙƒÙŠÙ† 1</a>
          <a href="#" onclick="event.preventDefault();showProp(2)">Ø´Ù‚Ø© ØªØ³ÙƒÙŠÙ† 2</a>
          <a href="#" onclick="event.preventDefault();showProp(3)">Ø´Ù‚Ø© ØªØ³ÙƒÙŠÙ† 3</a>
        </div>
      </span>
      <a href="#" onclick="go('home',event)" class="on" data-nav="home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
      <a href="#" onclick="go('avail',event)" data-nav="avail">Ø§Ù„Ø¥ØªØ§Ø­Ø§Øª</a>
      <a href="#" onclick="go('contact',event)" data-nav="contact">ØªÙˆØ§ØµÙ„</a>
    </div>
  </div>
  <div class="nav-left">
    <a href="#" class="nav-account" onclick="openProfile(event)"><span>ğŸ‘¤</span><span>Ø­Ø³Ø§Ø¨ÙŠ / ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</span></a>
  </div>
</nav>

<!-- HOME -->
<div class="home" id="pg-home">
  <section class="hero">
    <div class="hero-bg" id="heroBg"></div>
    <div class="hero-bg-next" id="heroBgNext"></div>
    <div class="hero-badge anim">Ø´Ù‚Ù‚ ÙÙ†Ø¯Ù‚ÙŠØ© ÙØ§Ø®Ø±Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©</div>
    <h1 class="anim d1">Ø¥Ù‚Ø§Ù…ØªÙƒ <span class="gold">Ø§Ù„Ø§Ø³ØªØ«Ù†Ø§Ø¦ÙŠØ©</span> Ø¹Ù„Ù‰ Ø§Ù„Ù†ÙŠÙ„</h1>
    <p class="hero-desc anim d2">Ø´Ù‚Ù‚ ÙÙ†Ø¯Ù‚ÙŠØ© Ù…ÙØ±ÙˆØ´Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ ÙÙŠ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© - Ø§Ù„Ø²Ù…Ø§Ù„Ùƒ ÙˆØ§Ù„Ø¯Ù‚ÙŠ. Ø¥Ø·Ù„Ø§Ù„Ø§Øª Ø¨Ø§Ù†ÙˆØ±Ø§Ù…ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ù†ÙŠÙ„ ÙˆÙ„Ù…Ø³Ø© Ø¶ÙŠØ§ÙØ© Ø±Ø§Ù‚ÙŠØ© Ù…Ø³ØªÙˆØ­Ø§Ø© Ù…Ù† Ø±ÙˆØ­ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©.</p>
    <div class="hero-cta anim d3">
      <a href="#" class="btn-p" onclick="wa()"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù† Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</a>
      <a href="#apartments" class="btn-s">ØªØµÙÙ‘Ø­ Ø§Ù„Ø´Ù‚Ù‚ â†“</a>
    </div>
    <div class="chips anim d4">
      <div class="chip">ğŸŒŠ Ø¥Ø·Ù„Ø§Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†ÙŠÙ„</div>
      <div class="chip">ğŸ›ï¸ Ø¥Ø·Ù„Ø§Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‡Ø±Ø§Ù…Ø§Øª</div>
      <div class="chip">ğŸ”‘ Ø¯Ø®ÙˆÙ„ Ø°Ø§ØªÙŠ Ø³Ù…Ø§Ø±Øª</div>
      <div class="chip">ğŸ“¶ Ø¥Ù†ØªØ±Ù†Øª ÙØ§Ø¦Ù‚ Ø§Ù„Ø³Ø±Ø¹Ø©</div>
      <div class="chip">ğŸ…¿ï¸ Ù…ÙˆØ§Ù‚Ù Ù…Ø¬Ø§Ù†ÙŠØ©</div>
      <div class="chip">ğŸ›¡ï¸ Ø£Ù…Ù† 24 Ø³Ø§Ø¹Ø©</div>
    </div>
  </section>
  <section class="sec" id="apartments">
    <span class="sec-label">Ø´Ù‚Ù‚Ù†Ø§</span>
    <h2 class="sec-title">Ø§Ø®ØªØ± <span class="gold">Ø´Ù‚ØªÙƒ</span> Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©</h2>
    <div class="grid" id="aptGrid"></div>
  </section>
  <section class="sec">
    <span class="sec-label">Ù…Ø¶ÙŠÙÙƒ</span>
    <h2 class="sec-title" style="margin-bottom:20px">ØªØ¹Ø±Ù‘Ù Ø¹Ù„Ù‰ <span class="gold">Hassan</span></h2>
    <div class="host-card">
      <div class="host-av"><img src="https://a0.muscache.com/im/pictures/user/User/original/2bdd3c40-5b5b-4d74-8a4c-40bd5b1fdca7.jpeg" alt="Hassan"></div>
      <div class="host-info"><h4>Hassan</h4><p>Ù…Ø³ØªØ´Ø§Ø± ÙˆÙ…Ø·ÙˆÙ‘Ø± Ø£Ø¹Ù…Ø§Ù„ â€“ ÙŠØ­Ø¨ Ø§Ù„Ø¥Ø·Ù„Ø§Ù„Ø§Øª Ø§Ù„Ø¬Ù…ÙŠÙ„Ø© ÙˆØ§Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ù†Ø¸ÙŠÙØ©</p><div class="host-stats"><span>â­ 4.97</span><span>ğŸ’¬ 33 ØªÙ‚ÙŠÙŠÙ…</span><span>ğŸ“© Ø±Ø¯ Ø®Ù„Ø§Ù„ Ø³Ø§Ø¹Ø©</span></div></div>
    </div>
  </section>
  <section class="sec">
    <span class="sec-label">Ù„Ù…Ø§Ø°Ø§ ØªØ³ÙƒÙŠÙ†ØŸ</span>
    <h2 class="sec-title" style="margin-bottom:20px">ØªØ¬Ø±Ø¨Ø© Ø¥Ù‚Ø§Ù…Ø© <span class="gold">Ù…Ø®ØªÙ„ÙØ©</span></h2>
    <div class="why-item"><span class="ic">ğŸ’°</span><div><strong>Ø¨Ø¯ÙˆÙ† Ø¹Ù…ÙˆÙ„Ø§Øª</strong><span class="sub">Ø§Ø­Ø¬Ø² Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ø¹ Ø§Ù„Ù…Ø§Ù„Ùƒ â€“ ÙˆÙÙ‘Ø± Ø£ÙƒØ«Ø±</span></div></div>
    <div class="why-item"><span class="ic">â­</span><div><strong>ØªÙ‚ÙŠÙŠÙ… 5.0 Ù†Ø¬ÙˆÙ…</strong><span class="sub">Ø¶ÙŠÙˆÙÙ†Ø§ ÙŠØ­Ø¨ÙˆÙ† Ø§Ù„Ø¥Ù‚Ø§Ù…Ø© Ù…Ø¹Ù†Ø§ â€“ Ø§Ù‚Ø±Ø£ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª</span></div></div>
    <div class="why-item"><span class="ic">âš¡</span><div><strong>ØªØ£ÙƒÙŠØ¯ ÙÙˆØ±ÙŠ</strong><span class="sub">ØªÙˆØ§ØµÙ„ Ù…Ø¨Ø§Ø´Ø± ÙˆØªØ£ÙƒÙŠØ¯ Ø³Ø±ÙŠØ¹ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</span></div></div>
    <div class="why-item"><span class="ic">ğŸ“…</span><div><strong>Ø¥ØªØ§Ø­Ø§Øª Ù…Ø­Ø¯Ø«Ø© Ù„Ø­Ø¸ÙŠÙ‹Ø§</strong><span class="sub">Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ù…ØªØ²Ø§Ù…Ù† Ù…Ø¹ Airbnb ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ ÙƒÙ„ 30 Ø¯Ù‚ÙŠÙ‚Ø©</span></div></div>
  </section>
  <div class="foot"><div class="foot-logo">ØªØ³ÙƒÙŠÙ†</div><p>Ø´Ù‚Ù‚ ÙÙ†Ø¯Ù‚ÙŠØ© ÙØ§Ø®Ø±Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© Â© 2025</p></div>
</div>

<!-- PROPERTY -->
<div class="page" id="pg-prop">
  <button class="back" onclick="go('home',event)">â†’ Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø´Ù‚Ù‚</button>
  <div class="gal-wrap">
    <button class="gal-ctrl prev" type="button" onclick="propPrevImg()" aria-label="Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©">â®</button>
    <button class="gal-ctrl next" type="button" onclick="propNextImg()" aria-label="Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©">â¯</button>
    <div class="gal" id="gal"></div>
  </div>
  <div class="dots" id="dots"></div>
  <div class="p-info">
    <h1 class="p-name" id="pN"></h1>
    <div class="p-sub" id="pS"></div>
    <div class="p-loc">ğŸ“ <span id="pL"></span></div>
    <div class="p-rate" id="pR"></div>
    <div class="p-actions"><button class="prop-btn" onclick="goToPropAvailability()">Ø§Ù„Ø¥ØªØ§Ø­Ø§Øª</button></div>
    <div class="p-grid" id="pG"></div>
  </div>
  <div class="p-desc" id="pD"></div>
  <div class="p-amen"><h3>Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª</h3><div class="amen-grid" id="pA"></div></div>
  <div id="pLink"></div>
  <div class="cal-sec" id="propAvailability">
    <div class="cal-header">
      <h3>ğŸ“… Ø§Ù„Ø¥ØªØ§Ø­Ø§Øª</h3>
      <div class="cal-sync" id="calSync"><span class="dot-live"></span> Ù…ØªØ²Ø§Ù…Ù† Ù…Ø¹ Airbnb</div>
    </div>
    <p class="sub">Ø§Ø®ØªØ± ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØµÙˆÙ„ ÙˆØ§Ù„Ù…ØºØ§Ø¯Ø±Ø© Ø«Ù… ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</p>
    <div class="cal-instruct">
      <p><span class="step">1</span> Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ ØªØ§Ø±ÙŠØ® <strong>Ø§Ù„ÙˆØµÙˆÙ„</strong> &nbsp; <span class="step">2</span> Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ ØªØ§Ø±ÙŠØ® <strong>Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø©</strong></p>
    </div>
    <div class="cal-nav">
      <button onclick="calPrev()">â†’</button>
      <span class="cal-mo" id="calMo"></span>
      <button onclick="calNext()">â†</button>
    </div>
    <div id="calContent">
      <div class="cal-loading"><div class="spinner"></div><span>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥ØªØ§Ø­Ø§Øª Ù…Ù† Airbnb...</span></div>
    </div>
    <div class="cal-leg"><div><span class="ld" style="background:rgba(45,106,79,.4)"></span> Ù…ØªØ§Ø­</div><div><span class="ld" style="background:rgba(155,34,38,.4)"></span> Ù…Ø­Ø¬ÙˆØ²</div></div>
    <div class="date-bar" id="dateBar">
      <div class="date-bar-top">
        <div class="date-bar-field active" id="ciField"><div class="lb">ğŸ“… ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØµÙˆÙ„</div><div class="vl empty" id="ciDate">Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„ØªÙ‚ÙˆÙŠÙ…</div></div>
        <div class="date-bar-divider"></div>
        <div class="date-bar-field" id="coField"><div class="lb">ğŸ“… ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø©</div><div class="vl empty" id="coDate">Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„ØªÙ‚ÙˆÙŠÙ…</div></div>
      </div>
      <div class="date-bar-nights" id="nightsInfo" style="display:none"></div>
      <div class="date-bar-btn">
        <button class="reset" onclick="resetDates()">Ù…Ø³Ø­</button>
        <a href="#" onclick="wa()"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg> Ø§Ø­Ø¬Ø² Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</a>
      </div>
    </div>
  </div>
  <div style="padding:0 20px;margin-bottom:16px"><h3 style="font-family:'Almarai',sans-serif;font-size:18px;font-weight:700;margin-bottom:16px">Ù…Ø¶ÙŠÙÙƒ</h3></div>
  <div class="host-card">
    <div class="host-av"><img src="https://a0.muscache.com/im/pictures/user/User/original/2bdd3c40-5b5b-4d74-8a4c-40bd5b1fdca7.jpeg" alt="Hassan"></div>
    <div class="host-info"><h4>Hassan</h4><p>Ù†Ø³Ø¨Ø© Ø§Ù„Ø±Ø¯: 100% Â· ÙŠØ±Ø¯ Ø®Ù„Ø§Ù„ Ø³Ø§Ø¹Ø©</p><div class="host-stats"><span>â­ 4.97</span><span>ğŸ’¬ 33 ØªÙ‚ÙŠÙŠÙ…</span></div></div>
  </div>
  <div class="foot"><div class="foot-logo">ØªØ³ÙƒÙŠÙ†</div><p>Ø´Ù‚Ù‚ ÙÙ†Ø¯Ù‚ÙŠØ© ÙØ§Ø®Ø±Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© Â© 2025</p></div>
</div>

<!-- AVAILABILITY -->
<div class="page" id="pg-avail">
  <div style="height:80px"></div>
  <div style="padding:0 20px"><span class="sec-label">Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©</span><h2 class="sec-title">Ø¥ØªØ§Ø­Ø§Øª <span class="gold">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´Ù‚Ù‚</span></h2></div>
  <div class="fbar" style="margin-top:20px">
    <button class="fbtn on" onclick="fil('all',this)">Ø§Ù„ÙƒÙ„</button>
    <button class="fbtn" onclick="fil('zamalek',this)">Ø§Ù„Ø²Ù…Ø§Ù„Ùƒ</button>
    <button class="fbtn" onclick="fil('dokki',this)">Ø§Ù„Ø¯Ù‚ÙŠ</button>
  </div>
  <div id="availList"></div>
  <div class="foot"><div class="foot-logo">ØªØ³ÙƒÙŠÙ†</div><p>Ø´Ù‚Ù‚ ÙÙ†Ø¯Ù‚ÙŠØ© ÙØ§Ø®Ø±Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© Â© 2025</p></div>
</div>

<!-- CONTACT -->
<div class="page" id="pg-contact">
  <div style="height:80px"></div>
  <div style="padding:0 20px;margin-bottom:24px"><span class="sec-label">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</span><h2 class="sec-title">Ù†Ø­Ù† Ù‡Ù†Ø§ <span class="gold">Ù„Ø®Ø¯Ù…ØªÙƒ</span></h2></div>
  <div class="ccard">
    <div class="ci">ğŸ’¬</div><h3>ÙˆØ§ØªØ³Ø§Ø¨</h3>
    <p>Ø£Ø³Ø±Ø¹ Ø·Ø±ÙŠÙ‚Ø© Ù„Ù„Ø­Ø¬Ø² ÙˆØ§Ù„Ø§Ø³ØªÙØ³Ø§Ø±<br>Ù…ØªØ§Ø­ÙŠÙ† ÙŠÙˆÙ…ÙŠÙ‹Ø§ Ù…Ù† Ù© ØµØ¨Ø§Ø­Ù‹Ø§ Ø­ØªÙ‰ Ù¡Ù¡ Ù…Ø³Ø§Ø¡Ù‹</p>
    <a href="#" class="btn-p" onclick="wa()"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</a>
  </div>
  <div class="ccard">
    <div class="ci">ğŸ“</div><h3>Ø§ØªØµØ§Ù„ Ù…Ø¨Ø§Ø´Ø±</h3><p>ØªÙØ¶Ù‘Ù„ Ø¨Ø§Ù„Ø§ØªØµØ§Ù„ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª</p>
    <a href="tel:+966558309921" class="btn-p" style="background:var(--surface);color:var(--off-white);box-shadow:none;border:1px solid rgba(255,255,255,.08)">ğŸ“ Ø§ØªØµÙ„ Ø§Ù„Ø¢Ù†</a>
  </div>
  <div class="onote"><strong>âœ¦ Ø§Ù„Ø­Ø¬Ø² Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ø¹ Ø§Ù„Ù…Ø§Ù„Ùƒ</strong><br>Ø¨Ø¯ÙˆÙ† Ø¹Ù…ÙˆÙ„Ø§Øª â€“ Ø¨Ø¯ÙˆÙ† Ø±Ø³ÙˆÙ… Ø¥Ø¶Ø§ÙÙŠØ© â€“ Ø£ÙØ¶Ù„ Ø³Ø¹Ø± Ù…Ø¶Ù…ÙˆÙ†</div>
  <div class="foot"><div class="foot-logo">ØªØ³ÙƒÙŠÙ†</div><p>Ø´Ù‚Ù‚ ÙÙ†Ø¯Ù‚ÙŠØ© ÙØ§Ø®Ø±Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© Â© 2025</p></div>
</div>

<div class="sticky">
  <a href="#" class="btn-p" onclick="wa()"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>ÙˆØ§ØªØ³Ø§Ø¨</a>
  <a href="tel:+966558309921" class="bcall">ğŸ“</a>
</div>

<div class="lightbox" id="imgLightbox" aria-hidden="true">
  <button class="lightbox-nav lightbox-prev" id="lightboxPrev" aria-label="Ø§Ù„Ø³Ø§Ø¨Ù‚">â®</button>
  <button class="lightbox-nav lightbox-next" id="lightboxNext" aria-label="Ø§Ù„ØªØ§Ù„ÙŠ">â¯</button>
  <button class="lightbox-close" id="lightboxClose" aria-label="Ø¥ØºÙ„Ø§Ù‚" data-close-lightbox>Ã—</button>
  <img src="" alt="" id="lightboxImg">
</div>

<script>
var WA='YOURNUMBER',cur=null,cMo=new Date().getMonth(),cYr=new Date().getFullYear(),ci=null,co=null,calLoaded={},lbImgs=[],lbIndex=0,suppressClickUntil=0,lbDragStartX=0,lbDragging=false,propImgIndex=0;
var MO=['ÙŠÙ†Ø§ÙŠØ±','ÙØ¨Ø±Ø§ÙŠØ±','Ù…Ø§Ø±Ø³','Ø£Ø¨Ø±ÙŠÙ„','Ù…Ø§ÙŠÙˆ','ÙŠÙˆÙ†ÙŠÙˆ','ÙŠÙˆÙ„ÙŠÙˆ','Ø£ØºØ³Ø·Ø³','Ø³Ø¨ØªÙ…Ø¨Ø±','Ø£ÙƒØªÙˆØ¨Ø±','Ù†ÙˆÙÙ…Ø¨Ø±','Ø¯ÙŠØ³Ù…Ø¨Ø±'];
var DN=['Ø£Ø­Ø¯','Ø¥Ø«Ù†','Ø«Ù„Ø§','Ø£Ø±Ø¨','Ø®Ù…ÙŠ','Ø¬Ù…Ø¹','Ø³Ø¨Øª'];

var apts=[
{id:1,name:'ØªØ³ÙƒÙŠÙ† 1',sub:'3 ØºØ±Ù Ù†ÙˆÙ… Ø¨Ø¥Ø·Ù„Ø§Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†ÙŠÙ„ â€“ Ø§Ù„Ø²Ù…Ø§Ù„Ùƒ',loc:'Ø´Ø§Ø±Ø¹ Ø£Ø¨Ùˆ Ø§Ù„ÙØ¯Ø§ØŒ Ø§Ù„Ø²Ù…Ø§Ù„ÙƒØŒ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',area:'zamalek',rooms:3,baths:2,beds:7,guests:6,rate:5.0,rev:9,url:'https://www.airbnb.com/rooms/1413793482058721505',badge:'â­ Ø¶ÙŠÙ Ù…ÙØ¶Ù‘Ù„',
imgs:['https://a0.muscache.com/im/pictures/miso/Hosting-1413793482058721505/original/7ceca00c-4096-4fab-9cd1-f0b089ba9110.jpeg?im_w=720','https://a0.muscache.com/im/pictures/miso/Hosting-1413793482058721505/original/35246e66-bd14-46e9-bb12-fc6edbdb922a.jpeg?im_w=720','https://a0.muscache.com/im/pictures/miso/Hosting-1413793482058721505/original/1523e323-f174-4ed1-a7f0-7bd2feca84a5.jpeg?im_w=720','https://a0.muscache.com/im/pictures/hosting/Hosting-U3RheVN1cHBseUxpc3Rpbmc6MTQxMzc5MzQ4MjA1ODcyMTUwNQ==/original/bec2fab3-0c07-4656-8976-48293c0edd57.jpeg?im_w=720','https://a0.muscache.com/im/pictures/miso/Hosting-1413793482058721505/original/346e95e5-c879-4f95-a39d-e942612b4aec.jpeg?im_w=720'],
desc:'Ø§Ø³ØªÙŠÙ‚Ø¸ Ø¹Ù„Ù‰ Ø¥Ø·Ù„Ø§Ù„Ø© Ø³Ø§Ø­Ø±Ø© Ø¹Ù„Ù‰ Ù†Ù‡Ø± Ø§Ù„Ù†ÙŠÙ„ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø´Ù‚Ø© Ø§Ù„Ø£Ù†ÙŠÙ‚Ø© Ø§Ù„Ù…ÙØ±ÙˆØ´Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ ÙÙŠ Ø§Ù„Ø²Ù…Ø§Ù„Ùƒ. ØªÙ‚Ø¹ Ø¹Ù„Ù‰ Ø´Ø§Ø±Ø¹ Ø£Ø¨Ùˆ Ø§Ù„ÙØ¯Ø§ØŒ Ø¹Ù„Ù‰ Ø¨ÙØ¹Ø¯ Ø®Ø·ÙˆØ§Øª Ù…Ù† Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„Ù…Ù‚Ø§Ù‡ÙŠ ÙˆØ§Ù„Ù…Ø¹Ø§Ù„Ù… Ø§Ù„Ø«Ù‚Ø§ÙÙŠØ©.',
amens:['ğŸŒŠ Ø¥Ø·Ù„Ø§Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†ÙŠÙ„','ğŸ”‘ Ø¯Ø®ÙˆÙ„ Ø°Ø§ØªÙŠ Ø³Ù…Ø§Ø±Øª','ğŸ“¶ ÙˆØ§ÙŠ ÙØ§ÙŠ Ø³Ø±ÙŠØ¹','ğŸ…¿ï¸ Ù…ÙˆÙ‚Ù Ù…Ø¬Ø§Ù†ÙŠ','â„ï¸ ØªÙƒÙŠÙŠÙ','ğŸ³ Ù…Ø·Ø¨Ø® Ù…Ø¬Ù‡Ø²','ğŸ“º ØªÙ„ÙØ²ÙŠÙˆÙ†','ğŸ§º ØºØ³Ø§Ù„Ø©','â˜• Ù…Ø§ÙƒÙŠÙ†Ø© Ù‚Ù‡ÙˆØ©','ğŸ›— Ù…ØµØ¹Ø¯','ğŸ›¡ï¸ Ø£Ù…Ù† 24 Ø³Ø§Ø¹Ø©','ğŸ–ï¸ Ø´Ø§Ø·Ø¦ Ù‚Ø±ÙŠØ¨'],booked:[]},
{id:2,name:'ØªØ³ÙƒÙŠÙ† 2',sub:'3 ØºØ±Ù Ù…Ø§Ø³ØªØ± Ø¨Ø¥Ø·Ù„Ø§Ù„Ø© Ø¨Ø§Ù†ÙˆØ±Ø§Ù…ÙŠØ© â€“ Ø§Ù„Ø¯ÙˆØ± 19',loc:'Ø´Ø§Ø±Ø¹ Ø£Ø¨Ùˆ Ø§Ù„ÙØ¯Ø§ØŒ Ø§Ù„Ø²Ù…Ø§Ù„ÙƒØŒ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',area:'zamalek',rooms:3,baths:3.5,beds:5,guests:6,rate:4.94,rev:18,url:'https://www.airbnb.com/rooms/1415371678389603532',badge:'âœ¨ ÙØ§Ø®Ø±Ø©',
imgs:['https://a0.muscache.com/im/pictures/miso/Hosting-1415371678389603532/original/d505bb15-a7d7-41b5-ac62-ca07ad46a015.jpeg?im_w=720','https://a0.muscache.com/im/pictures/hosting/Hosting-U3RheVN1cHBseUxpc3Rpbmc6MTQxNTM3MTY3ODM4OTYwMzUzMg==/original/583e8ac5-c8c5-457d-93f6-c3830cb252fc.jpeg?im_w=720','https://a0.muscache.com/im/pictures/hosting/Hosting-U3RheVN1cHBseUxpc3Rpbmc6MTQxNTM3MTY3ODM4OTYwMzUzMg==/original/7bb139a5-7ebb-4922-ae59-a38a3e23aa93.jpeg?im_w=720','https://a0.muscache.com/im/pictures/hosting/Hosting-U3RheVN1cHBseUxpc3Rpbmc6MTQxNTM3MTY3ODM4OTYwMzUzMg==/original/04071d37-66ab-43e4-b5fd-5f1c834bb54e.jpeg?im_w=720','https://a0.muscache.com/im/pictures/hosting/Hosting-U3RheVN1cHBseUxpc3Rpbmc6MTQxNTM3MTY3ODM4OTYwMzUzMg==/original/6a89a702-f2a1-415d-8f2b-5c8238200618.jpeg?im_w=720'],
desc:'Ø´Ù‚Ø© ÙØ§Ø®Ø±Ø© ÙÙŠ Ø§Ù„Ø¯ÙˆØ± 19 Ø¨Ø¥Ø·Ù„Ø§Ù„Ø© Ø¨Ø§Ù†ÙˆØ±Ø§Ù…ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ù†ÙŠÙ„ ÙˆØ§Ù„Ø£Ù‡Ø±Ø§Ù…Ø§Øª. 3 ØºØ±Ù Ù…Ø§Ø³ØªØ± ÙƒÙ„ ØºØ±ÙØ© Ø¨Ø­Ù…Ø§Ù… Ø®Ø§Øµ. Ù†ÙˆØ§ÙØ° Ù…Ù† Ø§Ù„Ø£Ø±Ø¶ Ù„Ù„Ø³Ù‚Ù. Ø£Ù…Ù† ÙˆÙƒÙˆÙ†Ø³ÙŠØ±Ø¬ 24/7.',
amens:['ğŸŒŠ Ø¥Ø·Ù„Ø§Ù„Ø© Ø¨Ø§Ù†ÙˆØ±Ø§Ù…ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ù†ÙŠÙ„','ğŸ›ï¸ Ø¥Ø·Ù„Ø§Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‡Ø±Ø§Ù…Ø§Øª','ğŸ”‘ Ø¯Ø®ÙˆÙ„ Ø°Ø§ØªÙŠ Ø³Ù…Ø§Ø±Øª','ğŸ“¶ ÙˆØ§ÙŠ ÙØ§ÙŠ Ø³Ø±ÙŠØ¹','ğŸ…¿ï¸ Ù…ÙˆÙ‚Ù Ù…Ø¬Ø§Ù†ÙŠ','â„ï¸ ØªÙƒÙŠÙŠÙ','ğŸ³ Ù…Ø·Ø¨Ø® Ù…Ø¬Ù‡Ø²','ğŸ“º ØªÙ„ÙØ²ÙŠÙˆÙ†','ğŸ§º ØºØ³Ø§Ù„Ø©','ğŸ’¼ Ù…Ø³Ø§Ø­Ø© Ø¹Ù…Ù„','ğŸ›— Ù…ØµØ¹Ø¯','ğŸ›¡ï¸ ÙƒÙˆÙ†Ø³ÙŠØ±Ø¬ 24/7'],booked:[]},
{id:3,name:'ØªØ³ÙƒÙŠÙ† 3',sub:'Ø´Ù‚Ø© Ø¬Ø¯ÙŠØ¯Ø© ÙÙŠ Ù…Ø¨Ù†Ù‰ Ø¬Ø¯ÙŠØ¯ â€“ Ø§Ù„Ø¯Ù‚ÙŠ',loc:'Ø§Ù„Ø¯Ù‚ÙŠØŒ Ø§Ù„Ø¬ÙŠØ²Ø©ØŒ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',area:'dokki',rooms:3,baths:1.5,beds:5,guests:6,rate:5.0,rev:6,url:'https://www.airbnb.com/rooms/1568676612325102773',badge:'ğŸ†• Ø¬Ø¯ÙŠØ¯Ø©',
imgs:['https://a0.muscache.com/im/pictures/hosting/Hosting-1568676612325102773/original/64d97ad4-0eb8-4ee8-a205-f5ba37fc292a.jpeg?im_w=720','https://a0.muscache.com/im/pictures/hosting/Hosting-1568676612325102773/original/a50f1aea-0fc1-4a56-82f4-4c1bf95e296c.jpeg?im_w=720','https://a0.muscache.com/im/pictures/hosting/Hosting-1568676612325102773/original/21fe2321-0a0e-4ef0-b618-5d5be3c6dd41.jpeg?im_w=720','https://a0.muscache.com/im/pictures/hosting/Hosting-1568676612325102773/original/0c1119af-2cca-4f3e-9d43-11cc03688f49.jpeg?im_w=720','https://a0.muscache.com/im/pictures/hosting/Hosting-1568676612325102773/original/fc8b512a-603a-4437-8207-8f4397f19ba2.jpeg?im_w=720'],
desc:'Ø´Ù‚Ø© Ø­Ø¯ÙŠØ«Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ (Ø£ÙˆÙ„ Ø§Ø³ØªØ®Ø¯Ø§Ù…) ÙÙŠ Ù…ÙˆÙ‚Ø¹ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ Ø¨Ø§Ù„Ø¯Ù‚ÙŠ. ØªØ¨Ø¹Ø¯ 5 Ø¯Ù‚Ø§Ø¦Ù‚ Ø¹Ù† ÙƒÙˆØ±Ù†ÙŠØ´ Ø§Ù„Ù†ÙŠÙ„ ÙˆØ¨Ø±Ø¬ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© ÙˆØ§Ù„Ø²Ù…Ø§Ù„Ùƒ.',
amens:['ğŸ™ï¸ Ù…ÙˆÙ‚Ø¹ Ù…Ø±ÙƒØ²ÙŠ','ğŸ”‘ Ø¯Ø®ÙˆÙ„ Ø°Ø§ØªÙŠ Ø³Ù…Ø§Ø±Øª','ğŸ“¶ ÙˆØ§ÙŠ ÙØ§ÙŠ Ø³Ø±ÙŠØ¹','ğŸ…¿ï¸ Ù…ÙˆÙ‚Ù Ù…Ø¬Ø§Ù†ÙŠ','â„ï¸ ØªÙƒÙŠÙŠÙ','ğŸ³ Ù…Ø·Ø¨Ø® Ù…Ø¬Ù‡Ø²','ğŸ“º ØªÙ„ÙØ²ÙŠÙˆÙ†','ğŸ§º ØºØ³Ø§Ù„Ø©','ğŸ›— Ù…ØµØ¹Ø¯','ğŸ›¡ï¸ Ø£Ù…Ù† Ø§Ù„Ù…Ø¨Ù†Ù‰','ğŸŒŠ Ù‚Ø±ÙŠØ¨Ø© Ù…Ù† Ø§Ù„Ù†ÙŠÙ„'],booked:[]}
];

// FETCH REAL CALENDAR DATA
function loadCalendar(aptId, callback) {
  if (calLoaded[aptId]) { callback(); return; }
  fetch('/.netlify/functions/calendar?id=' + aptId)
    .then(function(r) { return r.json(); })
    .then(function(data) {
      var apt = apts.find(function(a) { return a.id === aptId; });
      if (apt && data.bookedDates) {
        apt.booked = data.bookedDates;
        calLoaded[aptId] = true;
      }
      callback();
    })
    .catch(function() { callback(); });
}

function loadAllCalendars(callback) {
  fetch('/.netlify/functions/calendar')
    .then(function(r) { return r.json(); })
    .then(function(data) {
      for (var id in data) {
        var apt = apts.find(function(a) { return a.id === parseInt(id); });
        if (apt && data[id].bookedDates) { apt.booked = data[id].bookedDates; calLoaded[id] = true; }
      }
      callback();
    })
    .catch(function() { callback(); });
}

function renderCards() {
  document.getElementById('aptGrid').innerHTML = apts.map(function(a, i) {
    return '<div class="card anim d'+(i+1)+'" onclick="showProp('+a.id+')">' +
      '<div class="card-img"><img class="zoomable-img" src="'+a.imgs[0]+'" alt="'+a.name+'" loading="lazy" onclick="openAptLightbox('+a.id+',0,event)">' +
      '<div class="card-badge">'+a.badge+'</div>' +
      '<div class="card-rate"><span style="color:#FFD700">â˜…</span> '+a.rate+' ('+a.rev+')</div></div>' +
      '<div class="card-body"><div class="card-name">'+a.name+'</div>' +
      '<div class="card-sub">'+a.sub+'</div>' +
      '<div class="card-loc">ğŸ“ '+a.loc+'</div>' +
      '<div class="card-specs">' +
        '<div class="spec">ğŸ›ï¸ '+a.rooms+' ØºØ±Ù</div>' +
        '<div class="spec">ğŸš¿ '+a.baths+' Ø­Ù…Ø§Ù…</div>' +
        '<div class="spec">ğŸ›Œ '+a.beds+' Ø£Ø³Ø±Ù‘Ø©</div>' +
        '<div class="spec">ğŸ‘¥ '+a.guests+' Ø¶ÙŠÙˆÙ</div></div>' +
      '<div class="card-foot"><div class="status">Ù…ØªØ§Ø­ Ù„Ù„Ø­Ø¬Ø²</div>' +
      '<div class="card-actions"><button class="card-btn">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</button><button class="card-btn av" onclick="showAvailability('+a.id+',event)">Ø§Ù„Ø¥ØªØ§Ø­Ø©</button></div></div></div></div>';
  }).join('');
}

function showProp(id) {
  var a = apts.find(function(x) { return x.id === id; });
  if (!a) return;
  cur = a; ci = null; co = null; cMo = new Date().getMonth(); cYr = new Date().getFullYear();
  propImgIndex = 0;
  goPage('prop');
  document.getElementById('gal').innerHTML = a.imgs.map(function(img, idx) { return '<div class="gal-item"><img class="zoomable-img" src="'+img+'" loading="lazy" onclick="openAptLightbox('+a.id+','+idx+',event)"></div>'; }).join('');
  document.getElementById('dots').innerHTML = a.imgs.map(function(_, i) { return '<div class="dot'+(i===0?' on':'')+'" onclick="scrollImg('+i+')"></div>'; }).join('');
  document.getElementById('pN').textContent = a.name;
  document.getElementById('pS').textContent = a.sub;
  document.getElementById('pL').textContent = a.loc;
  document.getElementById('pR').innerHTML = 'â˜… '+a.rate+' Â· <span class="rv">'+a.rev+' ØªÙ‚ÙŠÙŠÙ… Ø¹Ù„Ù‰ Airbnb</span>';
  document.getElementById('pG').innerHTML =
    '<div class="p-box"><span class="ic">ğŸ›ï¸</span><span class="lb">ØºØ±Ù Ø§Ù„Ù†ÙˆÙ…</span><span class="vl">'+a.rooms+'</span></div>' +
    '<div class="p-box"><span class="ic">ğŸš¿</span><span class="lb">Ø§Ù„Ø­Ù…Ø§Ù…Ø§Øª</span><span class="vl">'+a.baths+'</span></div>' +
    '<div class="p-box"><span class="ic">ğŸ›Œ</span><span class="lb">Ø§Ù„Ø£Ø³Ø±Ù‘Ø©</span><span class="vl">'+a.beds+'</span></div>' +
    '<div class="p-box"><span class="ic">ğŸ‘¥</span><span class="lb">Ø§Ù„Ø¶ÙŠÙˆÙ</span><span class="vl">'+a.guests+'</span></div>';
  document.getElementById('pD').innerHTML = '<h3>Ø¹Ù† Ø§Ù„Ø´Ù‚Ø©</h3><p>'+a.desc+'</p>';
  document.getElementById('pA').innerHTML = a.amens.map(function(x) { return '<div class="amen">'+x+'</div>'; }).join('');
  document.getElementById('pLink').innerHTML = '<a href="'+a.url+'" target="_blank" class="airbnb-link">Ø´Ø§Ù‡Ø¯ Ø¹Ù„Ù‰ Airbnb â† â˜… '+a.rate+' ('+a.rev+' ØªÙ‚ÙŠÙŠÙ…)</a>';
  document.getElementById('dateBar').classList.remove('show');
  document.getElementById('calContent').innerHTML = '<div class="cal-loading"><div class="spinner"></div><span>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥ØªØ§Ø­Ø§Øª Ù…Ù† Airbnb...</span></div>';
  document.getElementById('calSync').innerHTML = '<span class="dot-live"></span> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...';
  window.scrollTo({top: 0, behavior: 'smooth'});

  loadCalendar(a.id, function() {
    document.getElementById('calSync').innerHTML = '<span class="dot-live"></span> Ù…ØªØ²Ø§Ù…Ù† Ù…Ø¹ Airbnb';
    renderCal();
  });

  setTimeout(function() {
    var g = document.getElementById('gal');
    if (!g || g.dataset.bound === '1') return;
    g.dataset.bound = '1';
    g.addEventListener('scroll', function() {
      if (!g.children.length) return;
      var idx = Math.round(g.scrollLeft / g.children[0].offsetWidth);
      propImgIndex = idx;
      document.querySelectorAll('.dot').forEach(function(d, i) { d.classList.toggle('on', i === idx); });
    });
  }, 200);
}

function showAvailability(id, e) {
  if (e) e.stopPropagation();
  showProp(id);
  setTimeout(function() {
    var sec = document.getElementById('propAvailability');
    if (sec) sec.scrollIntoView({ behavior:'smooth', block:'start' });
  }, 420);
}

function goToPropAvailability() {
  var sec = document.getElementById('propAvailability');
  if (sec) sec.scrollIntoView({ behavior:'smooth', block:'start' });
}

function scrollImg(i) {
  var g = document.getElementById('gal');
  if (!g || !g.children[i]) return;
  propImgIndex = i;
  g.children[i].scrollIntoView({behavior:'smooth',inline:'start',block:'nearest'});
  document.querySelectorAll('.dot').forEach(function(d, idx) { d.classList.toggle('on', idx === i); });
}

function propPrevImg() {
  var g = document.getElementById('gal');
  if (!g || !g.children.length) return;
  var total = g.children.length;
  propImgIndex = (propImgIndex - 1 + total) % total;
  scrollImg(propImgIndex);
}

function propNextImg() {
  var g = document.getElementById('gal');
  if (!g || !g.children.length) return;
  var total = g.children.length;
  propImgIndex = (propImgIndex + 1) % total;
  scrollImg(propImgIndex);
}

function renderCal() {
  if (!cur) return;
  document.getElementById('calMo').textContent = MO[cMo] + ' ' + cYr;
  var fd = new Date(cYr, cMo, 1).getDay();
  var dim = new Date(cYr, cMo + 1, 0).getDate();
  var today = new Date(); today.setHours(0,0,0,0);
  var h = '<div class="cal-grid"><div class="cal-wk"><span>Ø£Ø­Ø¯</span><span>Ø¥Ø«Ù†</span><span>Ø«Ù„Ø§</span><span>Ø£Ø±Ø¨</span><span>Ø®Ù…ÙŠ</span><span>Ø¬Ù…Ø¹</span><span>Ø³Ø¨Øª</span></div><div class="cal-days">';
  for (var i = 0; i < fd; i++) h += '<div class="cd empty"></div>';
  for (var d = 1; d <= dim; d++) {
    var ds = cYr + '-' + String(cMo+1).padStart(2,'0') + '-' + String(d).padStart(2,'0');
    var dobj = new Date(cYr, cMo, d);
    var past = dobj < today;
    var bk = cur.booked.indexOf(ds) !== -1;
    var isToday = dobj.getTime() === today.getTime();
    var c = 'cd';
    c += (past || bk) ? ' booked' : ' avail';
    if (isToday) c += ' today';
    if (ci === ds || co === ds) c += ' sel';
    else if (ci && co && dobj > new Date(ci) && dobj < new Date(co)) c += ' range';
    var oc = (!past && !bk) ? 'onclick="selDate(\''+ds+'\')"' : '';
    h += '<div class="'+c+'" '+oc+'>'+d+'</div>';
  }
  h += '</div></div>';
  document.getElementById('calContent').innerHTML = h;
}

function selDate(ds) {
  if (!ci || (ci && co)) { ci = ds; co = null; }
  else {
    if (new Date(ds) <= new Date(ci)) { ci = ds; }
    else {
      var blocked = false;
      for (var d = new Date(ci); d <= new Date(ds); d.setDate(d.getDate()+1)) {
        if (cur.booked.indexOf(d.toISOString().split('T')[0]) !== -1) { blocked = true; break; }
      }
      if (blocked) { ci = ds; co = null; } else { co = ds; }
    }
  }
  renderCal();
  var bar = document.getElementById('dateBar');
  bar.classList.add('show');
  document.getElementById('ciField').classList.toggle('active', !ci || !co);
  document.getElementById('coField').classList.toggle('active', ci && !co);

  if (ci) {
    document.getElementById('ciDate').textContent = fmtD(ci);
    document.getElementById('ciDate').classList.remove('empty');
  } else {
    document.getElementById('ciDate').textContent = 'Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„ØªÙ‚ÙˆÙŠÙ…';
    document.getElementById('ciDate').classList.add('empty');
  }
  if (co) {
    document.getElementById('coDate').textContent = fmtD(co);
    document.getElementById('coDate').classList.remove('empty');
    var nights = Math.round((new Date(co) - new Date(ci)) / 86400000);
    document.getElementById('nightsInfo').style.display = 'block';
    document.getElementById('nightsInfo').textContent = 'ğŸŒ™ ' + nights + (nights === 1 ? ' Ù„ÙŠÙ„Ø©' : ' Ù„ÙŠØ§Ù„ÙŠ');
  } else {
    document.getElementById('coDate').textContent = 'Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„ØªÙ‚ÙˆÙŠÙ…';
    document.getElementById('coDate').classList.add('empty');
    document.getElementById('nightsInfo').style.display = 'none';
  }
}

function resetDates() {
  ci = null; co = null;
  document.getElementById('dateBar').classList.remove('show');
  renderCal();
}

function fmtD(s) { var d = new Date(s); return d.getDate() + ' ' + MO[d.getMonth()]; }
function calPrev() { cMo--; if (cMo < 0) { cMo = 11; cYr--; } renderCal(); }
function calNext() { cMo++; if (cMo > 11) { cMo = 0; cYr++; } renderCal(); }

function go(pg, e) { if (e) e.preventDefault(); goPage(pg); window.scrollTo({top:0,behavior:'smooth'}); }
function goPage(pg) {
  document.getElementById('pg-home').classList.toggle('off', pg !== 'home');
  document.getElementById('pg-prop').classList.toggle('on', pg === 'prop');
  document.getElementById('pg-avail').classList.toggle('on', pg === 'avail');
  document.getElementById('pg-contact').classList.toggle('on', pg === 'contact');
  document.querySelectorAll('.nav-links a').forEach(function(a) { a.classList.toggle('on', a.dataset.nav === pg); });
  if (pg === 'avail') { loadAllCalendars(function() { renderAvail('all'); }); }
  if (pg === 'home') cur = null;
}

function renderAvail(f) {
  var list = f === 'all' ? apts : apts.filter(function(a) { return a.area === f; });
  var today = new Date();
  document.getElementById('availList').innerHTML = list.map(function(a) {
    var days = '';
    for (var i = 0; i < 14; i++) {
      var d = new Date(today); d.setDate(d.getDate() + i);
      var ds = d.toISOString().split('T')[0];
      var bk = a.booked.indexOf(ds) !== -1;
      days += '<div style="flex-shrink:0;text-align:center;min-width:44px">' +
        '<div style="font-size:10px;color:var(--light-gray);margin-bottom:4px">'+DN[d.getDay()]+'</div>' +
        '<div style="width:36px;height:36px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:600;margin:0 auto;' +
        'background:'+(bk?'rgba(155,34,38,.15)':'rgba(45,106,79,.15)')+';' +
        'color:'+(bk?'var(--light-gray)':'var(--off-white)')+';' +
        (bk?'text-decoration:line-through;opacity:.5;':'')+'">'+d.getDate()+'</div></div>';
    }
    return '<div class="avail-row" onclick="showProp('+a.id+')">' +
      '<div class="avail-head"><div><div class="avail-name">'+a.name+' <span style="color:var(--gold);font-size:13px">â˜… '+a.rate+'</span></div>' +
      '<div class="avail-sp">'+a.rooms+' ØºØ±Ù Â· '+a.guests+' Ø¶ÙŠÙˆÙ Â· '+a.loc+'</div></div>' +
      '<span style="color:var(--gold);font-size:20px">â†</span></div>' +
      '<div class="avail-days">'+days+'</div></div>';
  }).join('');
}
function fil(f, btn) { document.querySelectorAll('.fbtn').forEach(function(b) { b.classList.remove('on'); }); btn.classList.add('on'); renderAvail(f); }

function wa() {
  var msg = 'Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…ØŒ\nØ£Ø±ØºØ¨ ÙÙŠ Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ø§Ù„Ø­Ø¬Ø² ÙÙŠ Ø´Ù‚Ù‚ ØªØ³ÙƒÙŠÙ†';
  if (cur) {
    msg = 'Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…ØŒ\nØ£Ø±ØºØ¨ ÙÙŠ Ø­Ø¬Ø²: ' + cur.name + ' â€“ ' + cur.sub;
    if (ci) msg += '\nØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØµÙˆÙ„: ' + fmtD(ci);
    if (co) msg += '\nØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø©: ' + fmtD(co);
    var nights = ci && co ? Math.round((new Date(co) - new Date(ci)) / 86400000) : 0;
    if (nights) msg += '\nØ¹Ø¯Ø¯ Ø§Ù„Ù„ÙŠØ§Ù„ÙŠ: ' + nights;
  }
  window.open('https://wa.me/' + WA + '?text=' + encodeURIComponent(msg), '_blank');
}

function openAptLightbox(aptId, idx, e) {
  if (e) e.stopPropagation();
  var apt = apts.find(function(x) { return x.id === aptId; });
  if (!apt || !apt.imgs || !apt.imgs.length) return;
  openLightbox(apt.imgs[idx] || apt.imgs[0], apt.name, apt.imgs, idx);
}

function openLightbox(src, alt, imgs, idx) {
  var lb = document.getElementById('imgLightbox');
  var im = document.getElementById('lightboxImg');
  lbImgs = (imgs && imgs.length) ? imgs : [src];
  lbIndex = (typeof idx === 'number') ? idx : Math.max(0, lbImgs.indexOf(src));
  if (lbIndex < 0) lbIndex = 0;
  im.src = src;
  im.alt = alt || 'ØµÙˆØ±Ø© Ù…ÙƒØ¨Ø±Ø©';
  lb.classList.add('on');
  lb.setAttribute('aria-hidden', 'false');
  document.body.style.overflow = 'hidden';
  updateLightboxNav();
  initLightboxSwipe();
}

function updateLightboxNav() {
  var p = document.getElementById('lightboxPrev');
  var n = document.getElementById('lightboxNext');
  var show = lbImgs.length > 1;
  p.style.display = show ? 'flex' : 'none';
  n.style.display = show ? 'flex' : 'none';
}

function lightboxPrev() {
  if (lbImgs.length < 2) return;
  lbIndex = (lbIndex - 1 + lbImgs.length) % lbImgs.length;
  document.getElementById('lightboxImg').src = lbImgs[lbIndex];
}

function lightboxNext() {
  if (lbImgs.length < 2) return;
  lbIndex = (lbIndex + 1) % lbImgs.length;
  document.getElementById('lightboxImg').src = lbImgs[lbIndex];
}

function closeLightbox() {
  var lb = document.getElementById('imgLightbox');
  var im = document.getElementById('lightboxImg');
  lb.classList.remove('on');
  lb.setAttribute('aria-hidden', 'true');
  im.src = '';
  lbImgs = [];
  lbIndex = 0;
  lbDragging = false;
  document.body.style.overflow = '';
}

function openProfile(e) {
  if (e) e.preventDefault();
  alert('Ù‚Ø±ÙŠØ¨Ù‹Ø§: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø´Ø®ØµÙŠ');
}

function toggleAptMenu(e) {
  if (e) e.stopPropagation();
  var menu = document.getElementById('aptMenu');
  if (!menu) return;
  menu.classList.toggle('on');
}

function enableDragScroll(el) {
  return;
}

function initLightboxSwipe() {
  var img = document.getElementById('lightboxImg');
  if (!img || img.dataset.swipeBound === '1') return;
  img.dataset.swipeBound = '1';
  img.style.touchAction = 'pan-y';
  img.addEventListener('pointerdown', function(e) {
    lbDragging = true;
    lbDragStartX = e.clientX;
  });
  img.addEventListener('pointerup', function(e) {
    if (!lbDragging) return;
    var dx = e.clientX - lbDragStartX;
    lbDragging = false;
    if (Math.abs(dx) < 35) return;
    if (dx < 0) lightboxNext();
    else lightboxPrev();
  });
  img.addEventListener('pointercancel', function() { lbDragging = false; });
}

document.getElementById('imgLightbox').addEventListener('click', function(e) {
  if (e.target.id === 'imgLightbox' || e.target.closest('[data-close-lightbox]')) closeLightbox();
});
document.getElementById('lightboxPrev').addEventListener('click', function(e) { e.stopPropagation(); lightboxPrev(); });
document.getElementById('lightboxNext').addEventListener('click', function(e) { e.stopPropagation(); lightboxNext(); });
document.getElementById('aptMenuBtn').addEventListener('click', toggleAptMenu);
document.addEventListener('click', function(e) {
  var menu = document.getElementById('aptMenu');
  var btn = document.getElementById('aptMenuBtn');
  if (!menu || !btn) return;
  if (!menu.contains(e.target) && !btn.contains(e.target)) menu.classList.remove('on');
});
document.querySelectorAll('#aptMenu a').forEach(function(a) {
  a.addEventListener('click', function() { document.getElementById('aptMenu').classList.remove('on'); });
});

document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') closeLightbox();
  if (!document.getElementById('imgLightbox').classList.contains('on')) return;
  if (e.key === 'ArrowRight') lightboxNext();
  if (e.key === 'ArrowLeft') lightboxPrev();
});

window.addEventListener('scroll', function() { document.getElementById('mainNav').classList.toggle('scrolled', window.scrollY > 50); });
renderCards();

var heroImages=[
  'https://images.unsplash.com/photo-1548013146-72479768bada?auto=format&fit=crop&w=2400&q=90', // Cairo skyline
  'https://images.unsplash.com/photo-1572252009286-268acec5ca0a?auto=format&fit=crop&w=2400&q=90', // Nile view
  'https://images.unsplash.com/photo-1524492412937-b33874b7a497?auto=format&fit=crop&w=2400&q=90', // Pyramids - Giza
  'https://images.unsplash.com/photo-1587974928442-77dc3e0dba72?auto=format&fit=crop&w=2400&q=90', // Nile/Cairo
  'https://images.unsplash.com/photo-1572252009286-268acec5ca0a?auto=format&fit=crop&w=2400&q=90', // Nile view
  'https://images.unsplash.com/photo-1524492412937-b33874b7a497?auto=format&fit=crop&w=2400&q=90'  // Pyramids - Giza
],heroIdx=0,heroBusy=false;

var heroBg=document.getElementById('heroBg');
var heroBgNext=document.getElementById('heroBgNext');

function preloadImage(src){
  return new Promise(function(resolve){
    var im=new Image();
    im.onload=function(){ resolve(src); };
    im.onerror=function(){ resolve(src); };
    im.src=src;
  });
}

function primeHeroImages(){
  return Promise.all(heroImages.map(preloadImage));
}

function setHeroBackground(el, src){
  if(!el) return;
  el.style.backgroundImage="url('"+src+"')";
}

function rotateHero(){
  if(!heroBg || !heroBgNext || heroBusy) return;
  heroBusy=true;
  var nextIdx=(heroIdx+1)%heroImages.length;
  preloadImage(heroImages[nextIdx]).then(function(){
    setHeroBackground(heroBgNext, heroImages[nextIdx]);
    heroBg.style.transform='scale(1.01)';
    heroBgNext.style.transform='scale(1.02)';
    requestAnimationFrame(function(){
      heroBgNext.style.opacity='1';
      setTimeout(function(){
        setHeroBackground(heroBg, heroImages[nextIdx]);
        heroBg.style.transform='scale(1.02)';
        heroBgNext.style.opacity='0';
        heroBgNext.style.transform='scale(1.04)';
        heroIdx=nextIdx;
        heroBusy=false;
      },1100);
    });
  });
}

primeHeroImages().then(function(){
  setHeroBackground(heroBg, heroImages[heroIdx]);
  setHeroBackground(heroBgNext, heroImages[heroIdx]);
  setInterval(rotateHero,10000);
});
</script>
</body>
</html>
